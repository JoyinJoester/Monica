# Monica 自动填充测试应用

这是一个简单的测试应用，用于验证 Monica 密码管理器的自动填充功能。

## 功能

- 标准的登录表单（用户名 + 密码）
- 支持 Android 自动填充框架
- 清晰的测试说明
- 登录结果显示

## 如何使用

### 1. 编译和安装

在项目根目录运行：

```bash
# 编译测试应用
cd test-app
./gradlew assembleDebug

# 安装到设备/模拟器
adb install build/outputs/apk/debug/test-app-debug.apk
```

或者在 Android Studio 中：
1. 打开 `test-app` 文件夹作为项目
2. 点击 Run 按钮

### 2. 配置 Monica

1. 确保 Monica 应用已安装并运行
2. 在 Monica 中添加一个测试密码条目：
   - 应用包名：`com.test.autofilltest`
   - 用户名：任意（例如：testuser）
   - 密码：任意（例如：Test123456）

### 3. 启用自动填充

1. 打开系统设置
2. 进入：设置 → 系统 → 语言和输入法 → 自动填充服务
3. 选择 "Monica" 作为自动填充服务

### 4. 测试自动填充

1. 打开"自动填充测试"应用
2. 点击用户名或密码输入框
3. 应该会看到：
   - 键盘上方的内联建议（Android 11+）
   - 或下拉菜单中的密码建议
4. 选择一个密码，应该会自动填充到表单中
5. 点击"登录"按钮验证填充是否成功

## 测试场景

### 基础测试
- ✅ 点击用户名框，显示密码建议
- ✅ 点击密码框，显示密码建议
- ✅ 选择密码后自动填充用户名和密码
- ✅ 填充后可以正常登录

### 高级测试
- ✅ 多个匹配密码的选择
- ✅ 内联建议显示（Android 11+）
- ✅ 不同设备和 ROM 的兼容性
- ✅ 横屏模式下的自动填充

## 故障排查

如果自动填充不工作：

1. **检查服务状态**
   - 打开 Monica → 设置 → 自动填充
   - 查看服务状态是否正常

2. **查看诊断日志**
   - 在 Monica 自动填充设置中点击"故障排查"
   - 查看详细的诊断信息

3. **重启应用**
   - 完全关闭 Monica 和测试应用
   - 重新打开并测试

4. **检查权限**
   - 确保 Monica 有必要的权限
   - 某些 ROM 需要额外的权限设置

## 技术细节

- **包名**: `com.test.autofilltest`
- **最低 Android 版本**: 8.0 (API 26)
- **目标 Android 版本**: 14 (API 34)
- **UI 框架**: Jetpack Compose + Material 3

## 注意事项

- 这是一个测试应用，不包含真实的登录逻辑
- 密码不会被发送到任何服务器
- 仅用于测试自动填充功能
